---
toc: true
comments: true
title: Titanic ML Project
type: hacks
courses: { compsci: {week: 28} }
permalink: /titanic/
---

<html>
    <head>
        <title>Whats your chance of winning in tbft?</title>
    </head>
    <body>
        <div class="container">
            <h1>Will you win?</h1>
            <form id="titanicForm"  >
                <label for="name">Name:</label>
                <input type="text" id="name" name="name"><br><br>
                 <label for="age">Age:</label>
                <input type="number" id="age" name="age"><br><br>
                <label for="sex">Sex:</label>
                <select id="sex" name="sex">
                    <option value="male">Male</option>
                    <option value="female">Female</option>
                </select><br><br>
                   <label for="dhand">Dominant Hand:</label>
                <select id="dhand" name="dhand">
                    <option value="right">Right</option>
                    <option value="left">Left</option>
                </select><br><br>
                   <label for="fmove">First Move:</label>
                <select id="fmove" name="fmove">
                    <option value="one">1</option>
                    <option value="two">2</option>
                </select><br><br>
                     <label for="fattack">First Attack:</label>
                <input type="text" id="fattack" name="fattack"><br><br>
                </select><br><br>
                <button type="submit" class="btn btn-primary">Predict</button>
            </form>
            <div id="result"></div>
        </div>
        <script>
            // uri variable and options object are obtained from config.js
        //    import { uri, options } from '{{site.baseurl}}/assets/js/api/config.js';
            // Get the modal
            document.getElementById('titanicForm').addEventListener('submit', function(event) {
                event.preventDefault();
                const form = event.target;
                var formData = {
                    'name': document.getElementById('name').value,
                    'age': parseInt(document.getElementById('age').value),
                    'sex': document.getElementById('sex').value,
                    'dhand': document.getElementById('dhand').value,
                    'fmove': parseInt(document.getElementById('fmove').value),
                    'fattack': parseInt(document.getElementById('fattack').value),
                };
            const url = 'http://127.0.0.1:8086/api/titanic/';
                // Change options according to Authentication requirements
            const authOptions = {
                method: 'POST', // Override the method property
                mode: 'cors', // no-cors, *cors, same-origin
                cache: 'default', // *default, no-cache, reload, force-cache, only-if-cached
                credentials: 'include', // include, same-origin, omit
                headers: {
                'Content-Type': 'application/json',
                },
                body:  JSON.stringify(formData),
            };
                fetch(url, authOptions)
                .then(response => response.json())
                .then(data => {
                        // Create a text node with the death probability
                    // var textNode = document.createTextNode("Here's your chance of death: " + data.death_probability);
                    // // Clear any existing content in the result div
                    // document.getElementById('result').innerHTML = '';
                    // // Append the text node to the result div
                    // document.getElementById('result').appendChild(textNode);
                    // // Predict and Display Prediction result
                    // // var probability = (data * 100).toFixed(2) + '%'
                    // document.getElementById('result').innerHTML = "Here's your chance of death: " + data.death_probability;
                    document.getElementById('result').innerHTML = 'Your Chance of Dying is = '+ data.death_probability;
                })
                .catch(error => {
                    console.error('Error:', error);
                });
            });
        </script>
    </body>
</html>